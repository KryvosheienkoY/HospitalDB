<body>
<script src="js/table_myappointments_doctor.js"></script>
<!--<link rel="stylesheet" href="styles/admin_tables_styles.css" type="text/css">-->
<%- include('head'); %>
<%- include('toolbar_doctor_view', {section: 'main'}); %>
<div class="table-responsive table-body">
    <% if(appointments.length > 0){ %>
        <table id="tableDoctorAppointments" class="table table-striped table-responsive-md btn-table"
               style="width: 100%; overflow-x:hidden; font-size: smaller">
            <thead>
            <tr>
                <th>Номер</th>
                <th>Дата прийому</th>
                <th>Id пацієнта</th>
                <th>Прізвище</th>
                <th>Ім'я</th>
                <th>По-батькові</th>
                <th>Діагноз</th>
                <th>Дата встановлення</th>
                <th>Дата вилікування</th>
                <th>Presc_Instruction</th>
                <th>Medicine_Name</th>
                <th>Medicine_Type</th>
                <th>Presc_Required</th>
                <th>Medical_Form</th>
                <th></th>

            </tr>
            </thead>
            <tbody>
            <% for (let i = 0; i < appointments.length; i++) { %>
                <tr>
                    <td><%= appointments[i].Ticket_Num %></td>
                    <td><%= appointments[i].Appointment_Date %></td>
                    <td><%= appointments[i].Patient_ID %></td>
                    <td><%= appointments[i].Patient_Surname %></td>
                    <td><%= appointments[i].Patient_Firstname %></td>
                    <td><%= appointments[i].Patient_Patronymic %></td>
                    <td><%= appointments[i].Diagnosys_Name %></td>
                    <td><%= appointments[i].Diagnosys_StartDate %></td>
                    <td><%= appointments[i].Diagnosys_EndDate %></td>
                    <td><%= appointments[i].Presc_Instruction %></td>
                    <td><%= appointments[i].Medicine_Name %></td>
                    <td><%= appointments[i].Medicine_Type %></td>
                    <td><%= appointments[i].Presc_Required %></td>
                    <td><%= appointments[i].Medical_Form %></td>
                    <td></td>
                </tr>
            <% } %>

            <tr id="addingTr">
                <td>Num</td>
               <td><input required type="date" class="form-control validate"></td>
                <td> <input class="form-control input-sm"></td>
                <td></td>
                <td></td>
                <td></td>
            <% for (let i = 6; i < 14; i++) { %>
                    <td>
                        <% if(i === 7 || i === 8){ %>
                            <input required type="date" class="form-control validate">
                        <% }else { %>
                            <input class="form-control input-sm">
                        <% } %>
                    </td>
                <% } %>
                <td name="buttons">
                    <button id="addingBt" type="button" class="btn btn-sm btn-default"
                            onclick="addRow(this);"> &nbsp<i
                                class="fas fa-plus icon-4x"> </i></button>
                </td>
            </tr>


            </tbody>
        </table>
    <% } else{ %>

        <p style="margin-top: 10%;margin-left: 40%;">Ваша історія прийомів пуста.</p>
    <% } %>
</div>
<script>
    $('#tableDoctorAppointments').SetEditable("1,2,3,4,5,6,7,8,9,10");
</script>
</body>